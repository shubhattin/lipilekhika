---
import RootLayout from '$components/RootLayout.astro';
import HomePageTyping from '$components/examples/HomePageTyping.svelte';
import Features from '$components/landing/Features.astro';
import PackagesAndIntegrations from '$components/landing/PackagesAndIntegrations.svelte';
import ScriptTrans from '$components/landing/ScriptTrans.svelte';
import { BookOpen, Globe, Github, ArrowRight, ChevronDown } from 'lucide-svelte';
import { Icon } from 'svelte-icons-pack';
import { SiAndroid, SiLinux, SiWindows } from 'svelte-icons-pack/si';

const WINDOWS_DOWNLOAD_URL = '/redirect/pc-app-release-win-download';
const ANDROID_DOWNLOAD_URL = '/redirect/mobile-app-release-page';
// const PLAY_STORE_URL = 'https://play.google.com/store/apps/details?id=com.shubhattin.lipilekhika';
const LINUX_FCITX_PLUGIN_URL =
  'https://github.com/shubhattin/lipilekhika/blob/main/plugins/fcitx5/README.md';
---

<RootLayout
  title="Lipi Lekhika - Indian Script Transliteration"
  description="A powerful, fast, and open-source transliteration tool for Indian Brahmic Scripts. Type and convert between Devanagari, Telugu, Tamil, Bengali, and more."
>
  <!-- Hero Section -->
  <section
    class="relative flex flex-col items-center justify-center overflow-hidden px-4 pt-16 sm:pt-20 md:pt-24 xl:pt-28"
  >
    <!-- Background gradient effects -->
    <div
      class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(59,130,246,0.15),transparent)]"
    >
    </div>
    <div
      class="absolute top-1/2 left-1/2 -z-10 size-[600px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-primary/5 blur-3xl"
    >
    </div>

    <div class="mx-auto w-full max-w-6xl px-0 sm:px-6">
      <div class="grid w-full items-center gap-10 lg:grid-cols-2 lg:gap-12">
        <!-- Copy / CTAs -->
        <div class="text-center lg:text-left">
          <p
            class="mx-auto inline-flex items-center rounded-full border border-border/60 bg-linear-to-r from-white/90 via-slate-50/90 to-white/90 px-3 py-1 text-xs font-medium text-muted-foreground shadow-sm shadow-slate-200/80 backdrop-blur-sm lg:mx-0 dark:bg-background/40 dark:bg-none dark:shadow-none"
          >
            Lipi Lekhika • Realtime Typing + Transliteration
          </p>

          <h1 class="mt-5 text-3xl font-bold tracking-tight sm:text-4xl md:text-5xl lg:text-5xl">
            Type &amp; Convert Indian scripts with full speed and accuracy.
          </h1>

          <p class="mx-auto mt-4 max-w-2xl text-base text-muted-foreground sm:text-lg lg:mx-0">
            Built for modern and ancient Brahmic scripts — including Vedic accents — with a fast,
            predictable typing experience.
          </p>

          <div
            class="mt-7 flex w-full flex-row flex-wrap items-center justify-center gap-2.5 lg:justify-start"
          >
            <a
              href="/app"
              class="group relative inline-flex h-10 min-w-0 flex-1 basis-0 items-center justify-center gap-1.5 overflow-hidden rounded-lg border-2 border-amber-600 bg-linear-to-b from-amber-50/80 to-amber-100/90 px-3 text-sm font-medium whitespace-nowrap text-amber-900 shadow-[0_4px_12px_rgba(217,119,6,0.1)] transition-all hover:-translate-y-0.5 hover:border-amber-700 hover:bg-linear-to-b hover:from-amber-100 hover:to-amber-200/90 hover:shadow-[0_8px_20px_rgba(217,119,6,0.2)] active:translate-y-0 sm:flex-none sm:basis-auto sm:px-4 dark:border-amber-500 dark:from-amber-950/30 dark:to-amber-900/40 dark:text-white dark:hover:border-amber-400 dark:hover:from-amber-900/50 dark:hover:to-amber-800/60"
            >
              <Globe class="relative size-4 text-amber-700 dark:text-amber-400" />
              <span class="relative">Use Online</span>
              <ArrowRight
                class="relative hidden size-4 transition-transform group-hover:translate-x-1 sm:inline-block"
              />
            </a>

            <!-- Android: default click -> Play Store, caret menu -> APK -->
            <div
              class="cta-split group relative inline-flex h-10 min-w-0 flex-1 basis-0 sm:flex-none sm:basis-auto"
            >
              <!-- href={PLAY_STORE_URL} -->
              <a
                href={ANDROID_DOWNLOAD_URL}
                rel="noopener noreferrer"
                class="relative inline-flex h-10 w-full min-w-0 flex-1 items-center justify-center gap-1.5 overflow-hidden rounded-lg rounded-r-none border-2 border-r-0 border-emerald-600 bg-linear-to-b from-emerald-50/80 to-emerald-100/90 px-3 text-sm font-medium whitespace-nowrap text-emerald-900 shadow-[0_4px_12px_rgba(5,150,105,0.1)] transition-all group-hover:-translate-y-0.5 group-hover:border-emerald-700 group-hover:bg-linear-to-b group-hover:from-emerald-100 group-hover:to-emerald-200/90 group-hover:shadow-[0_8px_20px_rgba(5,150,105,0.2)] active:translate-y-0 sm:px-4 dark:border-emerald-500 dark:from-emerald-950/30 dark:to-emerald-900/40 dark:text-white dark:group-hover:border-emerald-400 dark:group-hover:from-emerald-900/50 dark:group-hover:to-emerald-800/60"
              >
                <Icon
                  src={SiAndroid}
                  className="relative size-4 fill-emerald-700 dark:fill-emerald-400"
                />
                <span class="relative">Android</span>
              </a>

              <details class="relative">
                <summary
                  aria-label="Android download options"
                  class="relative inline-flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-lg rounded-l-none border-2 border-emerald-600 bg-linear-to-b from-emerald-50/80 to-emerald-100/90 text-emerald-900 shadow-[0_4px_12px_rgba(5,150,105,0.1)] transition-all group-hover:-translate-y-0.5 group-hover:border-emerald-700 group-hover:bg-linear-to-b group-hover:from-emerald-100 group-hover:to-emerald-200/90 group-hover:shadow-[0_8px_20px_rgba(5,150,105,0.2)] active:translate-y-0 dark:border-emerald-500 dark:from-emerald-950/30 dark:to-emerald-900/40 dark:text-white dark:group-hover:border-emerald-400 dark:group-hover:from-emerald-900/50 dark:group-hover:to-emerald-800/60"
                >
                  <ChevronDown class="relative size-4 text-emerald-700 dark:text-emerald-400" />
                </summary>

                <div
                  class="absolute right-0 z-20 mt-2 w-40 overflow-hidden rounded-lg border border-border/60 bg-background/95 shadow-lg shadow-black/10 backdrop-blur-sm"
                >
                  <a
                    rel="noopener noreferrer"
                    href={ANDROID_DOWNLOAD_URL}
                    class="block px-3 py-2 text-sm text-foreground transition-colors hover:bg-muted/60"
                  >
                    Download APK
                  </a>
                </div>
              </details>
            </div>

            <a
              rel="noopener noreferrer"
              href={WINDOWS_DOWNLOAD_URL}
              class="group relative hidden h-10 w-full items-center justify-center gap-1.5 overflow-hidden rounded-lg border-2 border-blue-600 bg-linear-to-b from-blue-50/80 to-blue-100/90 px-4 text-sm font-medium text-blue-900 shadow-[0_4px_12px_rgba(29,78,216,0.1)] transition-all hover:-translate-y-0.5 hover:border-blue-700 hover:bg-linear-to-b hover:from-blue-100 hover:to-blue-200/90 hover:shadow-[0_8px_20px_rgba(29,78,216,0.2)] active:translate-y-0 sm:inline-flex sm:w-auto dark:border-blue-500 dark:from-blue-950/30 dark:to-blue-900/40 dark:text-white dark:hover:border-blue-400 dark:hover:from-blue-900/50 dark:hover:to-blue-800/60"
            >
              <Icon src={SiWindows} className="relative size-4 fill-blue-700 dark:fill-blue-400" />
              <span class="relative">Windows</span>
            </a>

            <a
              href={LINUX_FCITX_PLUGIN_URL}
              rel="noopener noreferrer"
              class="group relative hidden h-10 w-full items-center justify-center gap-1.5 overflow-hidden rounded-lg border-2 border-slate-600 bg-linear-to-b from-slate-50/80 to-slate-100/90 px-4 text-sm font-medium text-slate-900 shadow-[0_4px_12px_rgba(15,23,42,0.08)] transition-all hover:-translate-y-0.5 hover:border-slate-700 hover:bg-linear-to-b hover:from-slate-100 hover:to-slate-200/90 hover:shadow-[0_8px_20px_rgba(15,23,42,0.14)] active:translate-y-0 sm:inline-flex sm:w-auto dark:border-slate-500 dark:from-slate-950/30 dark:to-slate-900/40 dark:text-white dark:hover:border-slate-400 dark:hover:from-slate-900/50 dark:hover:to-slate-800/60"
            >
              <Icon src={SiLinux} className="relative size-4 fill-slate-700 dark:fill-slate-300" />
              <span class="relative">Linux</span>
            </a>
          </div>

          <!-- Mobile-only: Desktop downloads -->
          <div class="mt-4 text-center text-xs text-muted-foreground sm:hidden">
            Desktop downloads:

            <a
              class="ml-1.5 underline underline-offset-2 hover:text-foreground"
              href={WINDOWS_DOWNLOAD_URL}
            >
              Windows
            </a>

            <a
              href={LINUX_FCITX_PLUGIN_URL}
              class="ml-1.5 underline underline-offset-2 hover:text-foreground"
            >
              Linux
            </a>
          </div>
        </div>

        <!-- Try it out -->
        <div class="mx-auto w-full max-w-xl lg:mx-0 lg:justify-self-end">
          <div
            class="rounded-xl border border-border/60 bg-card/60 p-4 shadow-xl shadow-black/5 backdrop-blur-sm"
          >
            <HomePageTyping client:load />
          </div>
        </div>
      </div>
    </div>
    <section class="mx-auto w-full max-w-6xl px-4 py-6 sm:px-6 sm:py-8">
      <div class="flex justify-center">
        <div class="w-full max-w-xl text-center">
          <ScriptTrans client:load />
        </div>
      </div>
    </section>
  </section>

  <!-- Supported Scripts Banner -->
  <section
    class="border-y border-border/40 bg-linear-to-b from-muted/40 via-background to-background py-8 pt-4"
  >
    <div class="mx-auto max-w-6xl px-4 sm:px-6">
      <p class="mb-4 text-center text-sm font-medium text-muted-foreground">Supported Scripts</p>
      <div class="flex flex-wrap justify-center gap-3 text-lg sm:text-xl">
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >देवनागरी</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >తెలుగు</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >বাংলা</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >தமிழ்</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >ಕನ್ನಡ</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >ગુજરાતી</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >മലയാളം</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >ਗੁਰਮੁਖੀ</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >ଓଡ଼ିଆ</span
        >
        <span
          class="rounded-full border border-border/60 bg-linear-to-b from-white/90 to-slate-50/80 px-3 py-1 shadow-sm shadow-slate-200/80 dark:rounded-md dark:bg-background/50 dark:bg-none dark:shadow-none"
          >සිංහල</span
        >
      </div>
      <p class="mt-4 text-center text-xs text-muted-foreground">
        + Ancient scripts: Brahmi, Grantha, Modi, Sharada, Siddham
      </p>
    </div>
  </section>

  <section class="flex justify-center gap-3 pt-12">
    <a
      href="/getting-started/introduction"
      class="group inline-flex h-11 items-center justify-center gap-2 rounded-lg border border-slate-200/90 bg-linear-to-b from-white to-slate-50 px-6 text-sm font-medium text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.06)] transition-all hover:-translate-y-0.5 hover:border-slate-300 hover:shadow-[0_18px_45px_rgba(15,23,42,0.12)] dark:border-slate-700 dark:bg-slate-900 dark:bg-none dark:text-slate-100 dark:shadow-none dark:hover:border-slate-600 dark:hover:shadow-none"
    >
      <BookOpen class="size-4" />
      Documentation
    </a>
    <a
      href="https://github.com/shubhattin/lipilekhika"
      target="_blank"
      rel="noopener noreferrer"
      class="group inline-flex h-11 items-center justify-center gap-2 rounded-lg border border-slate-200/90 bg-linear-to-b from-white to-slate-50 px-6 text-sm font-medium text-slate-900 shadow-[0_12px_30px_rgba(15,23,42,0.06)] transition-all hover:-translate-y-0.5 hover:border-slate-300 hover:shadow-[0_18px_45px_rgba(15,23,42,0.12)] dark:border-slate-700 dark:bg-slate-900 dark:bg-none dark:text-slate-100 dark:shadow-none dark:hover:border-slate-600 dark:hover:shadow-none"
    >
      <Github class="size-4" />
      GitHub
    </a>
  </section>
  <!-- Features Section -->
  <Features />

  <PackagesAndIntegrations />
</RootLayout>

<style is:global>
  /* Hide the default disclosure triangle for the Android options menu */
  .cta-split summary::-webkit-details-marker {
    display: none;
  }
  .cta-split summary {
    list-style: none;
  }
</style>
