#!/usr/bin/env python3

import subprocess
import typer

app = typer.Typer()


@app.command()
def check():
    """Run type checking using ty."""
    result = subprocess.run(["uvx", "ty", "check"])
    raise typer.Exit(code=result.returncode)


@app.command()
def format():
    """Format code using ruff."""
    result = subprocess.run(["uvx", "ruff", "format"])
    raise typer.Exit(code=result.returncode)


@app.command()
def build_bindings():
    """Build bindings using maturin."""
    result = subprocess.run(["uvx", "maturin", "build", "--release"])
    raise typer.Exit(code=result.returncode)


if __name__ == "__main__":
    app()
